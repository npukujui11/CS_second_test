## 计算机系统概述
### **阐述冯诺依曼结构，冯诺依曼结构五大部件是什么？目前哪个最有发展空间？**
* 冯诺依曼五大部件是运算器、控制器、存储器、输入设备和输出设备。
* 运算器更有发展空间，决定着计算机性能的优劣。

### **计算机为什么要发展多核处理器？**
* 衡量处理器性能的主要指标是每个时钟周期内可以执行的指令数(IPC: Instruction Per Clock)和处理器的主频。CPU的主频就是每秒钟做周期性变化的次数，1秒钟只有1次时钟周期的改变叫1Hz。主频为1GHz就是1秒中有10亿个时钟周期。
* 因此，提高处理器性能就是通过两个途径：提高主频和提高IPC。处理器微架构的变化可以提高IPC，效率更高的微架构可以提高IPC，从而提高处理器的性能。但是对于同一代的架构，改良架构来提高IPC的幅度是非常有限的，所以在单核处理器时代通过提高处理器的主频来提高性能就成了唯一的手段。
* 但是提高主频会导致处理器的功耗以指数性上升，功耗上升会导致温度上升，很快会撞频率墙。
* 所以，业界普遍采取的做法是通过提高指令执行的并行度来提高IPC，而提高并行度有两种途径，一是提高处理器微架构的并行度，二是采用多核架构。
* 多核处理器相比相同性能的单核处理器，多核处理器的主频可以更低，从而很好的控制了功耗。
* 未来处理器发展的趋势是：为了达到更高的性能，在采用相同微架构的情况下，可以增加处理器的内核数量同时维持较低的主频。

### **计算机的主要性能指标？**
* 机器字长：机器字长是指计算机进行一次整数运算所能处理的二进制数据的位数，通常与CPU的寄存器位数、加法器有关。因此，机器字长一般等于内部寄存器的大小，字长越长，数的表示范围越大，计算精度越高。计算机字长通常选定为字节(8bit)的整数倍。
* 数据通路带宽：数据通路带宽是指数据总线一次所能并行传送信息的位数。
* 主存容量：主存容量是指主存储器所能存储信息的最大容量，通常以字节来衡量。
* 运算速度：
    + 吞吐量和响应时间：
        - 吞吐量：指系统在单位时间内处理请求的数量。它取决于信息能多快地输入内存，CPU能多快地取指令，数据能多快地从内存取出或存入，以及所得结果能多快地从内存送给一台外部设备。因此系统吞吐量主要取决于主存地存取周期；
        - 响应时间：指从用户向计算机发送一个请求，到系统对该请求做出响应并获得所需结果的等待时间。通常包括CPU时间（运行一个程序所花费的时间）与等待时间（用于磁盘访问、存储器访问、I/O操作、操作系统开销等的时间）
    + 主频和CPU时钟周期：
        - 主频：机器内部时钟的频率；
        - CPU时钟周期：通常为节拍脉冲，即主频的倒数，它是CPU中最小的时间单位，每个动作至少需要1个时钟周期；
    + CPI(Clock cycle Per Instruction)，即执行一条指令所需的时钟周期数。

### **为什么Linux的程序无法在Windows下运行？**
* 二者的可执行代码格式的一样，Linux的可执行代码文件格式是ELF(Execuatable and Linkable File Format)，Windows的可执行代码文件格式是PE(Portable Executable Format).
* Windows下提供了WSL(Windows Subsystem for Linux)可以解析和加载ELF格式的文件，Linux下提供了开源项目Wine兼容PE格式的装载器。
* 衍生问题: Linux通过Wine是否就能够完美的运行Windows程序？
    + 不能，大部分的程序往往依赖操作系统提供的动态链接库，系统调用等等，在Linux在这些往往都没法对等实现。

## 数据的表示和运算
### **单精度浮点数和多精度浮点数的区别？你什么时候选单精度，什么时候选双精度？**
* 单精度浮点数占据32位二进制，1位为符号位，0代表正数，1代表负数，8位指数位，尾数23位；双精度浮点数占据64位二进制，1位为符号位，11位为指数位，52为尾数位；
* 区别：
    + 所占内存不同：单精度浮点数占用4个字节（32位）存储空间来存储一个浮点数；双精度浮点数使用8个字节（64位）；
    + 所存的数值范围不同：单精度浮点数的数值范围为-3.4E38～3.4E38，而双精度浮点数可以表示的数字的绝对值范围大约是：-2.23E308 ~ 1.79E308；
    + 十进制下的位数不同：单精度浮点数最多有7位十进制有效数字，如果某个数的有效数字位数超过7位，当把它定义为单精度变量时，超出的部分会自动四舍五入。双精度浮点数可以表示十进制的15或16位有效数字，超出的部分也会自动四舍五入。

### **在计算机中，为什么要采用二进制来表示数据？**
* 从**可行性**来说，采用二进制，只有0和1两个状态，能够表示0、1两种状态的电子器件很多，如开关的接通和断开、晶体管的导通和截止、磁元件的正负剩磁、电位电平的高与低等，都可表示0、1两个数码。使用二进制，电子器件具有实现的可行性；
* 从**运算的简易性**来说，二进制数的运算法则少，运算简单，使计算机的硬件结构大大简化（十进制的乘法口诀表有55条公式，而二进制乘法只有4条规则）；
* 从**逻辑上**来说，由于二进制0和1正好和逻辑代数的假(false)和(true)相对应，使用二进制表示二值逻辑更自然。

### **什么是上溢和下溢？**
* 上溢：两个正数相加，结果为负（即：大于机器所能表示的最大正数）
* 下溢：两个负数相加，结果为正（即：大于机器所能表示的最小负数）

### **计算机如何实现乘除（实现二进制乘除法）**
* 乘法计算机制：依次以被乘数的低位到高位计算。若第n位不为0，那么乘数就左移n位。若第n位等于0，那么这步运算结果记为0，最后结果相加；二进制单位逐位计算可以通过与门(and gate)实现。
* 除法计算机制：除数从高位到低位的数字依次和被除数进行比较，如果大于等于被除数，则结果为1，并得余数。如果小于被除数则将上一步得余数左移一位并加上上一位的数字进行比较，依次类推，最终依次将计算结果相连组成二进制就是商。
* ALU中的运算机制：
    + 加法->加法。
    + 减法->取反，加法。
    + 乘法->移位，逻辑判断，累加
    + 除法->移位，逻辑判断，累减（本质上是加法）

## 存储系统

### **阐述多级存储系统**
* ![avatar](picture/%E5%AD%98%E5%82%A8%E5%8C%BA%E5%88%92%E5%88%86.png)
* 存储器的层次结构主要体现在两个存储层次上，即Cache-主存和主存-辅存。
    + Cache-主存层次主要对CPU的访存速度起增加作用，从整体运行效果分析，CPU访存速度加快，接近于Cache速度，而寻址空间与位价却接近于主存。
    + 主存-辅存层次在存储系统中主要起到扩容作用，从程序员的角度来看，其所使用的存储器其容量和位价接近于辅存，而速度接近于主存。
    + 两个存储层次，从整个存储系统来看，起到了速度快、容量大、位价低的优化效果。主存-Cache之间的信息调度功能全部由硬件自动完成。主存-辅存层次的调度目前广泛采用虚拟存储技术。

### **存储器结构**
* 结构：
    + 第一层：通用寄存器堆；
    + 第二层：指令与数据缓存栈；
    + 第三层：高速缓冲存储器；
    + 第四层：主存储器（DRAM）；
    + 第五层：联机外部存储器（硬磁盘机）；
    + 第六层：脱机外部存储器（磁带、光盘存储器等）；

### **半导体存储器**
* RAM(random access memory):
    + SRAM(static random access memory)
        - SRAM采用电阻分压原理进行存储，基本存储电路为6个MOS管组成1bit；
        - 优点：工作特点是读写速度非常的快，只要电源存在，数据就不会丢失；
        - 缺点：缺点是集成度低、功耗大、容量小；
    + DRAM(dynamic random access memory)
        - DRAM采用电容存储信息，因为电容会不断丢失电子，因此需要设计相应的刷新电路；
        - 优点：集成度高，价格相对低廉；
        - 缺点：外围电路设计相对复杂，该电路每个1~2ms要对高电平电容重新充电；
        - DRAM的常见刷新方法：
            - 集中式：在最大刷新间隔时间内，集中安排一段时间进行刷新。但会存在CPU访存的死时间；
            - 分散式：在每个读/写周期之后插入一个刷新周期，这样可以解决CPU访存的死时间问题。但如果在最大刷新间隔时间内没有读写，会丢失数据
            - 异步式：是集中式和分散式的折中方法，分散死时间，通过刷新信号进行刷新；
* ROM(read-only memory):
    + 结构简单，存储密度高于可读写存储器；
    + 具有非易失性，所以可靠性高；

### **寄存器和存储器的区别？**
* 寄存器(SRAM)一般是8bit，或8的整数倍，在CPU内部或I/O接口中。存储器(ROM)一般称为外存，磁盘等；
* 如果寄存器在I/O接口中，每个寄存器只有端口地址，汇编语言和C语言都可以通过端口地址来访问；寄存器主要用于
* RAM断电后数据会消失，ROM断电后数据不会消失；
* 寄存器距离CPU更近，寄存器的硬件设计和内存不一样，工作方式也和内存有较大区别，寄存器的工作流程往往更加简短，主要只有找到相关的位和读取这个位；而内存的工作流程比寄存器多出很多步，每一步都会导致延迟。所以寄存器要比内存快得多。

### **Cache的作用**
* 主要解决CPU和主存速度不匹配的问题，有效提高CPU数据的吞吐率。

## 中央处理器

### **简述CPU主要功能**
### **流水线越多，并行度就越高。是否流水段越多，指令执行越快？**
